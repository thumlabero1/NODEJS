<!DOCTYPE html>

<html lang="en">

<title>Chat App</title>

<link rel="stylesheet" href="tachyons.min.css"> <link rel="stylesheet" href="chat.css"> <body>

<div id="messages">

<h4>Chat Messages</h4>

</div>

<form id="form">

<input

id="input"

type="text"

placeholder="Your message...">

</form>

<script src='chat.js'>
    new window.EventSource('/sse').onmessage = function (event) { window.messages.innerHTML += `<p>${event.data}</p>`
}

window.form.addEventListener('submit', function (evt) { evt.preventDefault()

window.fetch(`/chat?message=${window.input.value}`)

window.input.value = ''

})
</script>

</body>

</html>